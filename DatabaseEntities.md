# Перечень сущностей в базе данных

## 1. Таблица: "ОКОПФ"

### Представление таблицы
| ID ОКОПФ | Код    | Наименование |
|----------|--------|--------------|
| (PK)     | (TEXT) | (TEXT)       |


### Описание таблицы

> **ОКОПФ** – это общероссийский классификатор организационно-правовых форм (ОПФ) собственности, на основании которого субъектам предпринимательства после их регистрации присваиваются коды, позволяющие идентифицировать их принадлежность к организационно-правовой форме.

Данная таблица является импортируемой, в связи с чем описывать ее полную структуру не будем. Назначение – унификация ввода данных в связанные таблицы, экономия памяти путем ликвидации дублирования.


## 2. Таблица (импортируемая): "КЛАДР"

### Представление таблицы

| ID КЛАДР | Код    | Наименование |
|----------|--------|--------------|
| (PK)     | (TEXT) | (TEXT)       |


### Описание таблицы

> КЛАДР — это классификатор адресов Российской Федерации (КЛАДР), ведомственный классификатор ФНС России, созданный для распределения территорий между налоговыми инспекциями и автоматизированной рассылки корреспонденции.

Данная таблица является импортируемой, в связи с чем описывать ее полную структуру не будем. Назначение – унификация ввода данных в связанные таблицы, экономия памяти путем ликвидации дублирования.


## 3. Таблица: "Виды контактных данных"

### Представление таблицы
| ID Вид контакта | Наименование вида |
|-----------------|-------------------|
| (PK)            | (TEXT)            |


### Описание таблицы

Назначение – унификация ввода данных в связанные таблицы, экономия памяти путем ликвидации дублирования.

Содержит поля:
- ID Вид контакта (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Наименование вида (Тип данных: TEXT. Длинна ограничена: 32 симв.).

Под видами контактных данных понимается:
- Адрес электронной почты;
- Мобильный телефон;
- Городской телефон;
и другие виды.


## 4. Таблица: "Контактные данные"

### Представление таблицы

| ID Контактной информации | Владелец контакта                       | Вид контакта          | Контакт | Комментарий |
|--------------------------|-----------------------------------------|-----------------------|---------|-------------|
| (PK)                     | (FK: ID Контрагент; ID Физическое лицо) | (FK: ID Вид контакта) | (TEXT)  | (TEXT)      |


### Описание таблицы

Назначение – хранит в себе информацию о способах связи с контрагентами и физическими лицами.

Содержит поля:
- ID Контактной информации (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Владелец контакта (Является Внешним ключем таблиц: "Контрагенты" и "Физические лица");
- Вид контакта (Является внешним ключем таблицы "Виды контактных данных");
- Контакт (Тип данных: TEXT. Длина ограничена: 345 симв.);
- Комментарий (Тип данных: TEXT. Длина ограничена: 128 симв.).


## 5. Таблица: "Контрагенты"

### Представление таблицы

| ID Контрагент | Организационно-правовая форма ЮЛ | Наименование | ИНН    | Адрес регистрации | Номер помещения | Фактический адрес | Номер помещения |
|---------------|----------------------------------|--------------|--------|-------------------|-----------------|-------------------|-----------------|
| (PK)          | (FK: ID ОКОПФ)                   | (TEXT)       | (TEXT) | (FK: ID КЛАДР)    | (INTEGER)       | (FK: ID КЛАДР)    | (INTEGER)       |


### Описание таблицы

Назначение – хранит о себе основные сведения о конрагентах (ЮЛ), в том числе и о "Нашей" организации. Данные контрагентов используются повсеместно, например указываются в качестве организатора выставки или владельца "экспоната". Использование выделенной таблицы в базе данных позволяет сократить дублирование информации.

Содержит поля:
- ID Контрагент (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Организационно-правовая форма ЮЛ (Является Внешним ключем таблицы "ОКОПФ");
- Наименование (Тип данных: TEXT. Длина ограничена: 128 симв.);
- ИНН (Тип данных: TEXT. Длина ограничена: 10 симв.);
- Адрес регистрации (Является Внешним ключем таблицы "КЛАДР");
- Номер помещения (Тип данных: INTEGER);
- Фактический адрес (Является Внешним ключем таблицы "КЛАДР");
- Номер помещения (Тип данных: INTEGER).


## 6. Таблица: "Организации"

### Представление таблицы

| ID Организация | Организация         | Основная  | Действующая |
|----------------|---------------------|-----------|-------------|
| (PK)           | (FK: ID Контрагент) | (BOOLEAN) | (BOOLEAN)   |


### Описание таблицы

Назначение – хранит в себе ссылку на организацию (организации) владельца базы данных. Организация владелец может быть расформирована, либо состоять из нескольких подчиненных ЮЛ. В связи с чем, данная сущность хранит "историю" и указатель на "основное ЮЛ".

Содержит поля:
- ID Организации  (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Организация (Является Внешним ключем таблицы "Контрагенты");
- Основная (Тип данных: BOOLEAN);
- Действующая (Тип данных: BOOLEAN).


## 7. Таблица: "Физические лица"

### Представление таблицы

| ID Физическое лицо | Фамилия | Имя    | Отчество | Дата рождения |
|--------------------|---------|--------|----------|---------------|
| (PK)               | (TEXT)  | (TEXT) | (TEXT)   | (DATE)        |


### Описание таблицы

Назначение – хранит в себе данные о связанных с организацией физических лицах. Под связанными подразумеваются: сотрудники организации, клиенты (посетители) музея, частные колекционеры (которые проводят выставки в музее), а также волонтеры (помогающие вести музею деятельность, например путем проведения экскурсий на добровольных началах).

Содержит поля:
- Физическое лицо (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Фамилия (Тип данных: TEXT. Длина ограничена: 64 симв.);
- Имя (Тип данных: TEXT. Длина ограничена: 64 симв.);
- Отчество (Тип данных: TEXT. Длина ограничена: 64 симв.);
- Дата рождения (Тип данных: DATE).

> Поля: Фамилия, Имя, Отчество; можно также вынести в отдельные таблицы с целью сокращения количества дублей в основной таблице. Данной нормализацией было решено принебречь в связи с учебной и творческой тематикой задания.


## 8. Таблица: "Виды семейной связи"

### Представление таблицы

| ID Семейная связь | Наименование связи |
|-------------------|--------------------|
| (PK)              | (TEXT)             |


### Описание таблицы

Назначение – хранит в себе виды семейной связи физических лиц. Под видами семейной связи представляются следующие: сын, дочь и др. Исключает дублирование в таблице "Семейные связи".

Содержит поля:

- ID Семейная связь (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Наименование связи (Тип данных: TEXT. Длина ограничена: 64 симв.).


## 9. Таблица: "Семейные связи"

### Представление таблицы

| ID Семейная связь | Источник сввязи          | Приемник связи           | Вид связи                   |
|-------------------|--------------------------|--------------------------|-----------------------------|
| (PK)              | (FK: ID Физическое лицо) | (FK: ID Физическое лицо) | (FK: ID Вид семейной связи) |


### Описание таблицы

Назначение – хранит в себе информацию о семейных связяъ физических лиц. Данную информацию предпологается использовать в маркетинговых компаниях (например, сообщать скмьям с детьми о предстоящих детских выставках и пр.), а также осуществлять контроль за соблюдением акций (например, ребенок дошкольного возроста бесплатно и пр.).

Содержит поля:
- ID Семейная связь (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Источник связи (Является Внешним ключем таблицы "Физические лица");
- Приемник связи (Является Внешним ключем таблицы "Физические лица");
- Вид связи (Является Внешним ключем таблицы "Виды семейной связи").


## 10. Таблица: "Должности сотрудников"

### Представление таблицы

| ID Должность | Наименование должности |
|--------------|------------------------|
| (PK)         | (TEXT)                 |


### Описание таблицы

Назначение – Таблица хранит в себе наименование должностей сотрудников организации. Используется для исключения дублирования информации в связанной таблице "Сотрудники организации".

Сожержит поля:
- ID Должность (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Наименование должности (Тип данных: TEXT. Ограничение длины: 128 симв.).


## 11. Таблица: "Сотрудники организации"

### Представление таблицы

| ID Сотрудник | Организация         | Должность          | Физические лицо          | Дата приема | Дата увольнения |
|--------------|---------------------|--------------------|--------------------------|-------------|-----------------|
| (PK)         | (FK: ID Контрагент) | (FK: ID Должность) | (FK: ID Физическое лицо) | (DATE)      | (DATE)          |


### Описание таблицы

Назначение – таблица хранит в себе информацию о сотрудниках организации и сотрудниках контрагентов, которые связаны с деятельностью оргназации. Используется в том числе для исключения дублирования информации в связанных таблицах.

Содержит поля:
- ID Сотрудник (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Организация (Является Внешним лючем таблицы "Контрагенты");
- Должность (Является внешним ключем таблицы "Должности сотрудников");
- Физическое лицо (Является внешним ключем таблицы "Физические лица");
- Дата приема (Тип данных: DATE);
- Дата увольнения (Тип данных: DATE).

> Для оптимизации взаимодействия с Базой данных кажется логичным вынести информацию о приеме и увольнени "Сотрудника организации" в отдельные таблицы: "Информация о приеме сотрудника", "Информация о выбытии сотрудника". Что в свою очередь исключит избыток полей "Дата приема" и "Дата увольнения" для записей не относящихся к "Основной организации".


## 12. Таблица: "Виды мест хранения"

### Представление таблицы

| ID Вид места | Наименование вида |
|--------------|-------------------|
| (PK)         | (TEXT)            |


### Описание таблицы

Назначение – хранит информацию о видах мест хранения "Экспонатов". Предназначена для исключения дублирования данных в связанных таблицах. Под "Видом места хранения" понимается: склад, выстовочный зал, павильон и др.

Содержит поля:
- ID Вид места (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Наименование вида (Тип данных: . Длина ограничена: 128 симв.)


## 13. Таблица: "Места хранения"

### Представление таблицы

| ID Место хранения | Организация         | Вид места хранения | Адрес          | Номер помещения | Ответсвенный                           |
|-------------------|---------------------|--------------------|----------------|-----------------|----------------------------------------|
| (PK)              | (FK: ID Контрагент) | (FK: ID Вид места) | (FK: ID КЛАДР) | (INTEGER)       | (FK: ID Сотрудник; ID Физическое лицо) |


### Описание таблицы
Назначение – хранит информацию об имеющихся местах хранения и расположения "Экспонатов". Предназначена для унификации данных и исключения дублирования в связанных таблицах.

Содержит поля:
- ID Место хранения (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Органихация (Является Внешним ключем таблицы "Контрагенты");
- Вид места хранения (Является Внешним ключем таблицы "Виды мест хранения");
- Адрес (Является Внешним ключем таблицы "КЛАДР");
- Номер помещения (Тип данных: INTEGER);
- Ответсвенный (Является внешним ключем таблиц: "Сотрудники организации", "Физические лица").



## 14. Таблица: "Ячейки хранения"

### Представление 

| ID Ячейки | Наименование |
|-----------|--------------|
| (PK)      | (TEXT)       |


### Описание таблицы

Назначение – хранит в себе информацию о существующих в организации ячейках хранения экспонатов, каждая ячейка имеет уникальный идентификатор и пояснение в виде "Наименования".

Содержит поля:
- ID Ячейки (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Наименование (Тип данных: TEXT. Длина ограничена: 128 симв.).


## 15. Таблица: "Категории экспонатов"

### Представление таблицы

| ID Категория | Наименование |
|--------------|--------------|
| (PK)         | (TEXT)       |


### Описание таблицы

Назначение – хранит в себе категории используемые для группировки "Экспонатов" по определенным тематикам: живопись, архиология, народное творчество и др. Также в качестве категорий могут быть использованы, например имена художников и др.

Содержит поля:
 - ID Категории (Является Главным ключем, тип будет зависеть от используемой СУБД);
 - Наименование (Тип данных: TEXT. Длина ограничена: 128 симв.).


## 16. Таблица: "Каталог категорий экспонатов"

### Представление таблицы

| ID Категории в каталоге | Родительская категория | Дочерняя категория |
|-------------------------|------------------------|--------------------|
| (PK)                    | (FK: ID Категория)     | (FK: ID Категория) |


### Описание таблицы

Назначение – представляет собой таблицу, которая хранит в себе иерархические связи категорий "Экспонатов".

Содержит поля:
- ID Категории в каталоге (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Родительская категория (Является Внешним ключем таблицы "Категории экспонатов");
- Дочерняя категория (Является Внешним ключем таблицы "Категории экспонатов").


## 17. Таблица: "Экспонаты"

### Представление таблицы

| ID Экспонат | Наименование экспоната | Владелец экспоната                      | Категория экспоната           |
|-------------|------------------------|-----------------------------------------|-------------------------------|
| (PK)        | (TEXT)                 | (FK: ID Контрагент; ID Физическое лицо) | (FK: ID Категории в каталоге) |


### Описание таблицы

Назначение – хранит в себе информацию о выставляемых "Организацией" "Экспонатах".

Содержит поля:
- ID Экспонат (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Наименование экспоната (Тип данных: TEXT. Длина ограничена: 256 симв.);
- Владелец экспоната (Является внешним ключем таблиц: "Контрагенты" и "Физические лица");
- Категория экспоната (Является внешним ключем таблицы "Каталог категорий экспонатов").

> Так как "Экспонат" можно однозначно отнести к определенной категории унифицированного каталога, расширять Базу данных отдельной таблицей связи "Экспонат" -> "Категория" нет особого смысла.


## 18. Таблица: "Информация об экспонатах"

### Представление таблицы

| ID Информация об экспонате | Экспонат          | Статья об экспонате |
|----------------------------|-------------------|---------------------|
| (PK)                       | (FK: ID Экспонат) | (TEXT)              |


### Описание таблицы

Назначение – хранит в себе содержательную информацию о конкретном экпонате. Инфомрация объемная и может дулироваться для разных экспонатов, в связи с чем вынесена в отдельную таблицу.

Содержит поля:
- ID Информация об экспонате (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Экспонат (Является Внешним ключем таблицы "Экспонаты");
- Статья об экспонате (Тип данных: TEXT. Длина не ограничена).


## 19. Таблица: "Выставки"

### Представление таблицы

| ID Выставка | Организатор выставки                    | Место проведения        | Начало проведения | Окончание выставки |
|-------------|-----------------------------------------|-------------------------|-------------------|--------------------|
| (PK)        | (FK: ID Контрагент; ID Физическое лицо) | (FK: ID Место хранения) | (DATE)            | (DATE)             |


### Описание таблицы

Назначение – хранит себе информацию о проводимых выставках и их организаторах, а также датах проведения. 

Содержит поля:
- ID Выставки (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Организатор выставки (Является Внешним ключем таблиц: "Контрагенты" и "Физические лица");
- Место проведения (Является Внешним ключем таблицы "Места хранения");
- Начало проведения (Тип данных: DATE);
- Окончание выставки (Тип данных: DATE).


## 20. Таблица: "Описание выставок"

### Представление таблицы

| ID Описание выставки | Выставка          | Описание |
|----------------------|-------------------|----------|
| (PK)                 | (FK: ID Выставка) | (TEXT)   |


### Описание таблицы

Назначение – хранит в себе содержательную информацию о конкретной выставке. Инфомрация объемная и может дулироваться для разных выставок, в связи с чем вынесена в отдельную таблицу.

Содержит поля:
- Описание выставки (Является Главным ключем, тип будет зависеть от используемой СУБД);
- Выставка (Является Внешним ключем таблицы "Выставки");
- Описание (Тип данных: TEXT. Длина не ограничена).

